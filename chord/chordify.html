<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="chordify.css" />
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="chordify.data.js"></script>
  <script src="chordify.js"></script>
  <script type="module">
    import { Canvg } from 'https://cdn.skypack.dev/canvg@^4.0.0';

    window.onload = async () => {
      const theme = "dark";
      const canvas = document.querySelector('canvas'),
        ctx = canvas.getContext('2d'),
        url = `./svg/${theme}/E_min.svg`,
        v = await Canvg.from(ctx, url),
        w = 300, h = 300;
      v.resize(w, h);
      v.start();

      document.getElementById('chord-img-L').src = canvas.toDataURL('image/png');

      window.onbeforeunload = () => {
        v.stop();
      };
    };

  </script>
</head>

<body>
  <canvas class="chord" id="chord"></canvas>
  <div class="chord-images">
    <img id="chord-img-L" class="image-large" />
  </div>
  <button class="copy-icon" id="copy-button">Copy to Clipboard</button>
  <span id="status-text"></span>
  <hr />
  <div id="links" class="links"></div>
</body>

</html>